<!DOCTYPE html>
<html lang="en">

<head>
    <base href="/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Learn how Intelligent Pump House Monitoring Systems use IoT, vibration analysis, and predictive maintenance to reduce costs and improve water infrastructure efficiency." />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="Intelligent Pump House Monitoring & Control" />
    <meta property="og:description"
        content="Learn how Intelligent Pump House Monitoring Systems use IoT, vibration analysis, and predictive maintenance to reduce costs and improve water infrastructure efficiency." />
    <meta property="og:url" content="https://sentratech.in/blogs/intelligent-pump-house-monitoring-and-control.html" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://sentratech.in/image/sentra.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Intelligent Pump House Monitoring & Control" />
    <meta name="twitter:description"
        content="Learn how Intelligent Pump House Monitoring Systems use IoT, vibration analysis, and predictive maintenance to reduce costs and improve water infrastructure efficiency." />
    <meta name="twitter:image" content="https://sentratech.in/image/sentra.png" />
    <meta name="twitter:site" content="@sentratech" />
    <meta name="twitter:image:width" content="1200" />
    <meta name="twitter:image:height" content="630" />
    <title>Blog - Intelligent Pump House Monitoring & Control</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="icon" href="/image/favicon.png" type="image/png" sizes="16x16">
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/image/favicon.png">
    <link rel="stylesheet" href="../css/chatbot.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />


    <link rel="stylesheet" href="../css/vendor/swiper-bundle.min.css">
    <style>
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        #ttsPlayBtn {
            background-color: #f48120;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px 16px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        #ttsPlayBtn:hover {
            background-color: #000000;
        }

        .word {
            transition: background-color 0.12s ease;
            padding: 0 1px;
            border-radius: 2px;
        }

        .highlight {
            background-color: #f48120;
            transition: background-color 0.15s ease;
        }

        body.lightmode .highlight {
            background-color: #ffe082;
        }

        .tts-controls {
            margin-top: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tts-controls button {
            padding: 10px 16px;
            font-size: 1rem;
            width: 50px;
            height: 50px;
            font-size: 20px;
            border: none;
            background: #f48120;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tts-controls button:hover {
            background: #dfcaa0;
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #f48120;
            width: 0%;
            transition: width 0.3s ease;
        }

        .conclusion-btn-wrapper {
            margin-bottom: 30px;
        }

        .swiperProducts .card-blog {
            display: flex;
            flex-direction: column;
        }

        @media (min-width: 992px) {
            .swiperProducts .card-blog {
                width: 600px !important;
                height: 400px !important;
            }
        }

        .swiperProducts .blog-image {
            height: 250px !important;
        }

        .card-body {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
    </style>

    <link rel="canonical" href="https://sentratech.in/blogs/intelligent-pump-house-monitoring-and-control.html">

</head>

<body>
    <h1 class="visually-hidden">Intelligent Pump House Monitoring & Control</h1>

    <!-- Section Header -->
    <header>
        <!-- Section Navbar -->
        <div id="header"></div>
    </header>

    <!-- Section Content Edit -->
    <aside>
        <div id="edit-sidebar"></div>
    </aside>



    <!-- Section Sidebar -->
    <aside>
        <div id="sidebar"></div>
    </aside>

    <!-- Section Main Content -->
    <main>
        <!-- Section Banner -->
        <div class="section-banner">
            <div class="banner-layout-wrapper">
                <div class="banner-layout">
                    <div class="d-flex flex-column text-center align-items-center gspace-2">
                        <h2 class="title-heading animate-box animated animate__animated"
                            data-animate="animate__fadeInRight">Intelligent Pump House Monitoring & Control</h2>

                    </div>

                    <div class="spacer"></div>
                </div>
            </div>
        </div>

        <!-- Section Post -->
        <div class="section">
            <div class="hero-container">
                <div class="row row-cols-xl-2 row-cols-1 grid-spacer-5">
                    <div class="col-12 col-xl-4 order-2 order-xl-1">
                        <div class="d-flex flex-column flex-md-row flex-xl-column gspace-5">
                            <div>
                                <h4 style="color: var(--primary); font-weight: 700; margin-bottom: 10px;">Contents</h4>
                                <h6 id="scrollToSpecs" class="blog-contents">The Hidden Challenges</h6>
                                <h6 id="scrollToDesc" class="blog-contents">Water Management Visibility</h6>
                                <h6 id="scrollToPara1" class="blog-contents">Vibration Analysis & Predictive Maintenance
                                </h6>
                                <h6 id="scrollToPara2" class="blog-contents">Energy Efficiency Gains</h6>
                                <h6 id="scrollToPara3" class="blog-contents">Remote Control & Digital Twins</h6>
                                <h6 id="scrollToConclusion" class="blog-contents">Conclusion</h6>
                            </div>








                            <div class="cta-service-banner">
                                <div class="spacer"></div>
                                <h3 class="title-heading">Reimagine What’s Possible</h3>
                                <p>
                                    Empowering businesses with IoT-driven insights and innovative solutions. Together,
                                    let’s shape a smarter future!
                                </p>
                                <div class="link-wrapper">
                                    <a href="about.html">Read More</a>
                                    <i class="fa-solid fa-circle-arrow-right"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-xl-8 order-1 order-xl-2">
                        <div class="d-flex flex-column gspace-2">
                            <div class="post-image">
                                <img src="../image/revolutionary_IOT.png" alt="Intelligent Pump House Monitoring"
                                    class="img-fluid">
                            </div>
                            <h3>Intelligent Pump House Monitoring & Control: Transforming Water Infrastructure with
                                IoT-Driven Efficiency</h3>
                            <div class="tts-controls">
                                <button id="ttsPlayBtn"><i class="fas fa-play"></i></button>
                                <div class="progress-bar">
                                    <div class="progress-fill"></div>
                                </div>
                            </div>
                            <div class="underline-muted-full"></div>
                            <div class="d-flex flex-row align-items-center justify-content-between">
                                <div class="d-flex flex-row align-items-center gspace-2">
                                    <div class="d-flex flex-row gspace-1 align-items-center">
                                        <i class="fa-solid fa-calendar accent-color"></i>
                                        <span class="meta-data-post">Feb 05, 2026</span>
                                    </div>
                                    <div class="d-flex flex-row gspace-1 align-items-center">
                                        <i class="fa-solid fa-folder accent-color"></i>
                                        <span class="meta-data-post">Smart Pumping</span>
                                    </div>
                                </div>
                                <div class="d-flex flex-row gspace-1 align-items-center">
                                    <i class="fa-solid fa-user accent-color"></i>
                                    <span class="meta-data">Sentra Technologies</span>
                                </div>
                            </div>


                            <div id="ttsContent">
                                <p>
                                    Water infrastructure is the backbone of smart cities, industrial zones, residential
                                    communities, and agricultural networks. Yet pump houses — the core of water
                                    distribution systems — often operate inefficiently due to manual oversight, outdated
                                    controls, energy wastage, and unplanned mechanical failures.
                                </p>
                                <p>
                                    An <b><a href="./solutions/asset-monitoring-and-management-solutions.html"
                                            style="color: #f48120;">Intelligent Pump House Monitoring System</a></b>
                                    powered by IoT, vibration analysis,
                                    predictive maintenance, and real-time energy optimization can reduce operational
                                    costs by up to 40% while significantly improving reliability and sustainability.
                                </p>

                                <h4 id="specsSection">The Hidden Challenges in Pump House Operations</h4>
                                <p>
                                    Pump houses face multiple operational risks including high energy consumption, pump
                                    cavitation, motor overheating, pressure imbalance, and water leakage. In many
                                    facilities, pumps operate on fixed schedules rather than demand-based intelligence —
                                    leading to energy waste and accelerated wear.
                                </p>

                                <h4 id="DescSection">Water Management Through Intelligent Monitoring</h4>
                                <p>
                                    Smart water management begins with visibility. IoT-enabled pump house systems
                                    integrate flow meters, pressure sensors, <b><a href="./products/vibrating-wire.html"
                                            style="color: #f48120;">water level sensors</a></b>, energy meters,
                                    temperature sensors, vibration sensors, and motor current monitoring. This creates a
                                    real-time operational picture of inflow and outflow rates, tank levels, and energy
                                    consumption per cubic meter.
                                </p>

                                <h4 id="Para1Section">Vibration Analysis: Protecting Mechanical Assets</h4>
                                <p>
                                    Pumps and motors are highly sensitive to vibration. Continuous <b><a
                                            href="./products/vibration-meter.html" style="color: #f48120;">vibration
                                            analysis</a></b>
                                    allows for early fault detection of bearing wear, shaft misalignment, and
                                    cavitation. Predictive maintenance uses historical vibration trends and machine
                                    learning models to detect patterns that indicate impending failure, reducing
                                    unplanned downtime.
                                </p>

                                <h4 id="Para2Section">Energy Efficiency: Achieving 40% Savings</h4>
                                <p>
                                    Intelligent systems optimize Variable Frequency Drives (VFDs), demand-based pumping
                                    cycles, and load distribution among multiple pumps. Energy analytics identify
                                    inefficiencies in real time, resulting in up to 40% reduction in energy consumption,
                                    directly lowering operational expenditure and carbon footprint.
                                </p>

                                <h4 id="Para3Section">Remote Control & Digital Twin Integration</h4>
                                <p>
                                    IoT-enabled pump houses support remote start/stop, pressure adjustment, and
                                    automated scheduling. When integrated with GIS and digital twin platforms, each pump
                                    is geo-tagged and distribution networks are visualized in 3D. Digital twins simulate
                                    demand surges and system failures, enhancing strategic water planning.
                                </p>

                            </div>

                            <div class="conclusion-div">
                                <h4 id="ConclusionSection">Conclusion</h4>
                                <p>
                                    Water management is no longer just about supply — it is about efficiency,
                                    resilience, and intelligence. An IoT-powered Pump House Monitoring System enables
                                    significant energy savings while improving reliability and extending asset life. In
                                    a world facing growing water demand, intelligent pump house systems are a critical
                                    step toward sustainable infrastructure transformation.
                                </p>
                                <div class="conclusion-btn-wrapper">
                                    <a class="conclusion-btn" href="/contact.html" role="button">Contact us</a>
                                </div>

                            </div>
                            <div class="underline-muted-full"></div>

                            <div
                                class="d-flex flex-column flex-md-row justify-content-between gspace-3 align-items-center">
                                <div class="d-flex flex-row gspace-1 align-items-center">
                                    <h5 class="share-title">Share This Post:
                                    </h5>
                                    <div class="d-flex flex-row gspace-1">
                                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://sentratech.in/blogs/intelligent-pump-house-monitoring-and-control.html"
                                            target="_blank" class="social-icon-blog"><i
                                                class="fa-brands fa-facebook-f"></i></a>
                                        <a href="https://x.com/intent/tweet?url=https://sentratech.in/blogs/intelligent-pump-house-monitoring-and-control.html&text=Intelligent%20Pump%20House%20Monitoring%20%26%20Control"
                                            target="_blank" class="social-icon-blog"><i
                                                class="fa-brands fa-x-twitter"></i></a>
                                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://sentratech.in/blogs/intelligent-pump-house-monitoring-and-control.html"
                                            target="_blank" class="social-icon-blog"><i
                                                class="fa-brands fa-linkedin-in"></i></a>
                                        <a href="https://api.whatsapp.com/send?text=Intelligent%20Pump%20House%20Monitoring%20%26%20Control%20https://sentratech.in/blogs/intelligent-pump-house-monitoring-and-control.html"
                                            target="_blank" class="social-icon-blog"><i
                                                class="fa-brands fa-whatsapp"></i></a>
                                    </div>
                                </div>
                                <div class="link-wrapper">
                                    <a href="blog.html" class="read-more" style="color: #f48120; font-weight: 700;">Back
                                        to Blog</a>
                                    <i class="fa-solid fa-circle-arrow-left accent-color"
                                        style="font-size: 1.2rem;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="spacer" style="height: 80px;"></div>
                <div class="hero-container">
                    <div class="d-flex flex-column gspace-2">
                        <h3 class="title-heading">Recent Blogs</h3>
                        <div class="swiper swiperProducts">
                            <div class="swiper-wrapper">
                                <!-- Blog 1 -->
                                <div class="swiper-slide">
                                    <div class="card card-blog"
                                        onclick="window.location.href='./blogs/advanced-iot-solutions.html'"
                                        style="cursor: pointer;">
                                        <div class="blog-image"
                                            style="background: url('../image/article_1.png') center/cover no-repeat;">
                                            <div class="blog-tag">Smart Pumping</div>
                                        </div>
                                        <div class="card-body">
                                            <a href="./blogs/advanced-iot-solutions.html" class="blog-link">Advanced IoT
                                                Solutions</a>
                                            <div class="learn-more-container">
                                                <span>Read more</span>
                                                <div class="arrow-icon">
                                                    <i class="fa-solid fa-arrow-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Blog 2 -->
                                <div class="swiper-slide">
                                    <div class="card card-blog"
                                        onclick="window.location.href='./blogs/fatigue-life-assessment.html'"
                                        style="cursor: pointer;">
                                        <div class="blog-image"
                                            style="background: url('../image/fatigue.jpg') center/cover no-repeat;">
                                            <div class="blog-tag">Guides</div>
                                        </div>
                                        <div class="card-body">
                                            <a href="./blogs/fatigue-life-assessment.html" class="blog-link">Fatigue
                                                Life
                                                Assessment</a>
                                            <div class="learn-more-container">
                                                <span>Read more</span>
                                                <div class="arrow-icon">
                                                    <i class="fa-solid fa-arrow-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Blog 3 -->
                                <div class="swiper-slide">
                                    <div class="card card-blog"
                                        onclick="window.location.href='./blogs/asset-monitoring-facility-management.html'"
                                        style="cursor: pointer;">
                                        <div class="blog-image"
                                            style="background: url('../image/asset_monitoring_banner.png') center/cover no-repeat;">
                                            <div class="blog-tag">Services</div>
                                        </div>
                                        <div class="card-body">
                                            <a href="./blogs/asset-monitoring-facility-management.html"
                                                class="blog-link">Asset Monitoring & Facility Management</a>
                                            <div class="learn-more-container">
                                                <span>Read more</span>
                                                <div class="arrow-icon">
                                                    <i class="fa-solid fa-arrow-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Blog 4 -->
                                <div class="swiper-slide">
                                    <div class="card card-blog"
                                        onclick="window.location.href='./blogs/real-time-monitoring-solutions-transforming-infrastructure-safety-performance.html'"
                                        style="cursor: pointer;">
                                        <div class="blog-image"
                                            style="background: url('../image/real-time-monitoring.webp') center/cover no-repeat;">
                                            <div class="blog-tag">Monitoring</div>
                                        </div>
                                        <div class="card-body">
                                            <a href="./blogs/real-time-monitoring-solutions-transforming-infrastructure-safety-performance.html"
                                                class="blog-link">Real-Time Monitoring Solutions</a>
                                            <div class="learn-more-container">
                                                <span>Read more</span>
                                                <div class="arrow-icon">
                                                    <i class="fa-solid fa-arrow-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Section Footer -->
    <footer>
        <div id="footer"></div>
    </footer>

    <script>
        (function () {
            const synth = window.speechSynthesis;
            let voices = [];
            let isPlaying = false;
            let isPaused = false;
            let totalWords = 0;
            let currentWordIndex = 0;
            let wordSpans = [];
            let paragraphs = [];
            let currentParagraphIndex = 0;
            let activeUtterance = null;
            let fallbackTimer = null;
            let boundarySupported = false;
            let autoScrollEnabled = true;
            let mouseIdleTimer;

            const ttsContent = document.getElementById('ttsContent');
            const playBtn = document.getElementById('ttsPlayBtn');
            const progressFill = document.getElementById('progressFill');
            const progressBar = document.querySelector('.progress-bar');

            function loadVoices() {
                voices = synth.getVoices() || [];
            }
            loadVoices();
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }

            function pickFemaleVoice() {
                const femaleCandidates = voices.filter(v => /Deepa|Joanna|Google Translate|female|woman|Google US English|Samantha|Alloy|Amy|Emma|en-US/i.test(v.name + ' ' + v.lang));
                return femaleCandidates[0] || voices.find(v => /en-?us|en-?gb/i.test(v.lang)) || voices[0];
            }

            function pickMaleVoice() {
                const maleCandidates = voices.filter(v => /Sundar|Google Translate|male|man|Google UK English|Daniel|Alex|en-?gb|en-?au/i.test(v.name + ' ' + v.lang));
                return maleCandidates[0] || voices.find(v => /en-?us|en-?gb/i.test(v.lang)) || voices[0];
            }

            document.addEventListener('mousemove', () => {
                autoScrollEnabled = false;
                clearTimeout(mouseIdleTimer);
                mouseIdleTimer = setTimeout(() => {
                    autoScrollEnabled = true;
                }, 5000);
            });

            function wrapWords() {
                const elements = ttsContent.querySelectorAll('p, h4, li');
                elements.forEach(el => {
                    if (el.querySelector('.word')) return;
                    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
                    const textNodes = [];
                    let node;
                    while (node = walker.nextNode()) {
                        if (node.textContent.trim()) textNodes.push(node);
                    }
                    textNodes.forEach(textNode => {
                        const tokens = textNode.textContent.split(/(\s+)/);
                        const fragment = document.createDocumentFragment();
                        tokens.forEach(tok => {
                            if (/\s+/.test(tok)) {
                                fragment.appendChild(document.createTextNode(tok));
                            } else if (tok) {
                                const span = document.createElement('span');
                                span.className = 'word';
                                span.textContent = tok;
                                fragment.appendChild(span);
                                totalWords++;
                            }
                        });
                        textNode.parentNode.replaceChild(fragment, textNode);
                    });
                });
                wordSpans = Array.from(ttsContent.querySelectorAll('.word'));
            }
            wrapWords();

            function getParagraphs() {
                const elements = ttsContent.querySelectorAll('p, h4, li');
                paragraphs = Array.from(elements).filter(el => el.textContent.trim() !== '');
            }
            getParagraphs();

            function computeWordBoundaries(text) {
                const words = text.split(/\s+/).filter(Boolean);
                const boundaries = [];
                let cursor = 0;
                for (let i = 0; i < words.length; i++) {
                    const w = words[i];
                    const found = text.indexOf(w, cursor);
                    if (found === -1) {
                        boundaries.push(cursor);
                        cursor += w.length;
                    } else {
                        boundaries.push(found);
                        cursor = found + w.length;
                    }
                }
                return boundaries;
            }

            function clearAllHighlights() {
                wordSpans.forEach(w => w.classList.remove('highlight'));
            }

            function scrollIntoCenter(el) {
                if (!el) return;
                if (autoScrollEnabled) {
                    el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }

            function clearFallbackTimer() {
                if (fallbackTimer) {
                    clearInterval(fallbackTimer);
                    fallbackTimer = null;
                }
            }

            function speakFrom(index) {
                clearFallbackTimer();
                boundarySupported = false;

                // End of text reached
                if (index >= paragraphs.length) {
                    isPlaying = false;
                    isPaused = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    currentParagraphIndex = 0;
                    currentWordIndex = 0;
                    progressFill.style.width = '0%';
                    return;
                }

                currentParagraphIndex = index;
                const p = paragraphs[index];
                const role = (p.getAttribute('data-voice') || 'female').toLowerCase();
                const voice = role === 'male' ? pickMaleVoice() : pickFemaleVoice();
                const utterText = p.textContent.trim();
                if (!utterText) {
                    speakFrom(index + 1);
                    return;
                }

                const boundaries = computeWordBoundaries(utterText);
                const wordSpansInP = Array.from(p.querySelectorAll('.word')).filter(s => s.textContent.trim() !== '');
                wordSpansInP.forEach(w => w.classList.remove('highlight'));

                const u = new SpeechSynthesisUtterance(utterText);
                activeUtterance = u;
                u.lang = 'en-US';
                u.rate = role === 'male' ? 0.9 : 1.3;
                u.pitch = 1.2;
                if (voice) u.voice = voice;

                // Approximate fallback interval
                const wordsPerSecondBase = 3.0 * u.rate;
                const fallbackIntervalMs = Math.max(120, Math.round(1000 / wordsPerSecondBase));

                // ====== onstart ======
                u.onstart = () => {
                    isPlaying = true;
                    isPaused = false;
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';

                    currentWordIndex = 0;
                    if (wordSpansInP.length > 0) {
                        wordSpansInP.forEach(w => w.classList.remove('highlight'));
                        const first = wordSpansInP[0];
                        first.classList.add('highlight');
                        scrollIntoCenter(first);
                    }

                    // fallback timer for browsers that don't emit boundary events
                    fallbackTimer = setInterval(() => {
                        if (boundarySupported) return;
                        if (!isPlaying || isPaused) { clearFallbackTimer(); return; }

                        if (currentWordIndex < wordSpansInP.length - 1) {
                            wordSpansInP[currentWordIndex].classList.remove('highlight');
                            currentWordIndex++;
                            wordSpansInP[currentWordIndex].classList.add('highlight');
                            scrollIntoCenter(wordSpansInP[currentWordIndex]);
                        }
                    }, fallbackIntervalMs);
                };

                // ====== onboundary ======
                u.onboundary = (ev) => {
                    boundarySupported = true;
                    clearFallbackTimer();

                    const charIndex = ev.charIndex || 0;
                    let wi = 0;
                    for (let i = 0; i < boundaries.length; i++) {
                        const start = boundaries[i];
                        const end = (i < boundaries.length - 1) ? boundaries[i + 1] : utterText.length;
                        if (charIndex >= start && charIndex < end) {
                            wi = i;
                            break;
                        }
                        if (i === boundaries.length - 1) wi = boundaries.length - 1;
                    }

                    wi = Math.min(wi, wordSpansInP.length - 1);
                    if (wi < 0) wi = 0;

                    if (wi !== currentWordIndex) {
                        if (wordSpansInP[currentWordIndex]) wordSpansInP[currentWordIndex].classList.remove('highlight');
                        if (wordSpansInP[wi]) {
                            wordSpansInP[wi].classList.add('highlight');
                            scrollIntoCenter(wordSpansInP[wi]);
                        }
                        currentWordIndex = wi;
                    }
                };

                // ====== onend ======
                u.onend = () => {
                    p.querySelectorAll('.word.highlight').forEach(w => w.classList.remove('highlight'));
                    activeUtterance = null;
                    clearFallbackTimer();

                    if (isPlaying && !isPaused) {
                        speakFrom(index + 1);
                    } else {
                        isPlaying = false;
                        isPaused = false;
                        playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    }
                };

                // ====== onerror ======
                u.onerror = (err) => {
                    console.error('Speech error', err);
                    activeUtterance = null;
                    isPlaying = false;
                    clearFallbackTimer();
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                };

                // speak now
                try {
                    synth.speak(u);
                } catch (e) {
                    console.error('synth.speak error:', e);
                }

                // ====== Progress bar update ======
                const progress = ((index + 1) / paragraphs.length) * 100;
                progressFill.style.width = progress + '%';
            }


            playBtn.addEventListener('click', () => {
                if (!voices || voices.length === 0) loadVoices();

                if (isPlaying && !isPaused) {
                    synth.pause();
                    isPaused = true;
                    isPlaying = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                } else if (isPaused) {
                    synth.resume();
                    isPaused = false;
                    isPlaying = true;
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    if (currentParagraphIndex >= paragraphs.length) currentParagraphIndex = 0;
                    speakFrom(currentParagraphIndex);
                }
            });

            progressBar.addEventListener('click', (e) => {
                const rect = progressBar.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const percentage = clickX / rect.width;
                const targetIndex = Math.floor(percentage * paragraphs.length);
                if (synth.speaking) {
                    synth.cancel();
                }
                clearAllHighlights();
                clearFallbackTimer();
                currentParagraphIndex = targetIndex;
                speakFrom(targetIndex);
            });

            window.addEventListener('beforeunload', () => {
                if (synth && synth.speaking) synth.cancel();
            });
        })();
    </script>


    <script src="../js/vendor/jquery.min.js"></script>
    <script src="../js/vendor/bootstrap.bundle.min.js"></script>
    <script src="../js/vendor/swiper-bundle.min.js"></script>
    <script src="../js/swiper-script.js"></script>
    <script src="../js/script.js"></script>
    <script src="../js/submit-form.js"></script>
    <script src="../js/video_embedded.js"></script>
    <!-- Linking Emoji Mart script for emoji picker -->
    <script src="https://cdn.jsdelivr.net/npm/emoji-mart@latest/dist/browser.js"></script>

    <!-- Chatbot Widget -->
    <script src="../js/chatbot-widget.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const mappings = [
                ["scrollToSpecs", "specsSection"],
                ["scrollToDesc", "DescSection"],
                ["scrollToPara1", "Para1Section"],
                ["scrollToPara2", "Para2Section"],
                ["scrollToPara3", "Para3Section"],
                ["scrollToConclusion", "ConclusionSection"]
            ];

            const smoothScroll = (target) => {
                if (!target) return;
                const header = document.querySelector('header');
                const headerHeight = header ? header.getBoundingClientRect().height : 0;
                const extraGap = 80;
                const targetY = target.getBoundingClientRect().top + window.pageYOffset - headerHeight - extraGap;
                window.scrollTo({
                    top: Math.max(targetY, 0),
                    behavior: "smooth"
                });
            };

            mappings.forEach(([btnId, sectionId]) => {
                const btn = document.getElementById(btnId);
                const section = document.getElementById(sectionId);
                if (btn && section) {
                    btn.addEventListener("click", (e) => {
                        e.preventDefault();
                        smoothScroll(section);
                    });
                }
            });

            // TTS Logic
            const playBtn = document.getElementById("ttsPlayBtn");
            const progressFill = document.querySelector(".progress-fill");
            const content = document.getElementById("ttsContent");

            let isPlaying = false;
            let utterance = null;
            let words = [];
            let currentWordIndex = 0;

            const setupTTS = () => {
                const text = content.innerText;
                utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 1;

                utterance.onboundary = (event) => {
                    if (event.name === 'word') {
                        const progress = (event.charIndex / text.length) * 100;
                        progressFill.style.width = `${progress}%`;
                    }
                };

                utterance.onend = () => {
                    isPlaying = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    progressFill.style.width = "0%";
                };
            };

            playBtn.addEventListener("click", () => {
                if (!isPlaying) {
                    if (!utterance) setupTTS();
                    window.speechSynthesis.speak(utterance);
                    isPlaying = true;
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    window.speechSynthesis.cancel();
                    isPlaying = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                }
            });
        });
    </script>
</body>

</html>